<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Crypto VASP Compliance Self-Assessment</title>
  <meta name="description" content="Crypto VASP Compliance Self-Assessment">
  <style>
    :root{
      --bg:#f5f7fb;
      --card:#ffffff;
      --ink:#111827;
      --muted:#6b7280;
      --brand:#0A84FF;   /* de Risk blue */
      --brand-deep:#0656c7;
      --ok:#16a34a; --warn:#f59e0b; --bad:#ef4444;
      --ring:0 0 0 3px rgba(10,132,255,.30);
      --border:#e5e7eb;
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;}
    body{
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
      background:var(--bg);
      color:var(--ink);
    }
    .wrap{max-width:1100px;margin:32px auto 80px;padding:0 16px;}

    /* Logo */
    .logo{display:flex;justify-content:center;align-items:center;margin:20px 0 10px}
    .logo img{max-height:100px;height:auto;width:auto}  /* made logo bigger */

    /* Top heading */
    header{
      display:flex;align-items:center;justify-content:space-between;gap:16px;
      background:var(--brand);   /* blue background */
      color:#fff;                /* white writing */
      border-radius:16px;
      padding:18px 20px;
      margin:14px 0 18px;
    }
    h1{font-size:clamp(1.5rem,2.5vw,2rem);margin:0;letter-spacing:.2px;color:#fff}
    .badge{font-size:.75rem;color:#fff;background:rgba(255,255,255,0.2);padding:6px 10px;border-radius:999px}

    /* Card + form */
    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:18px;
      padding:18px 18px;
      box-shadow:0 10px 24px rgba(10,50,120,.06);
    }
    fieldset{border:1px solid var(--border);border-radius:14px;padding:14px;margin:0 0 14px}
    legend{padding:0 8px;color:var(--brand-deep); font-weight:700}
    label{display:block; margin:10px 0; line-height:1.35}
    p.muted{color:var(--muted); margin:6px 0 10px}
    input[type="text"], input[type="number"], input[type="date"], textarea, select{
      width:100%; background:#fff; color:var(--ink);
      border:1px solid #d1d5db; border-radius:10px; padding:10px 12px; outline:none;
    }
    input[type="text"]:focus, input[type="number"]:focus, input[type="date"]:focus,
    textarea:focus, select:focus{ box-shadow:var(--ring); border-color:var(--brand)}
    .row{display:grid; gap:10px; grid-template-columns:1fr}
    @media(min-width:720px){.row.two{grid-template-columns:1fr 1fr}}

    /* Controls */
    .controls{position:sticky; bottom:0; inset-inline:0; background:linear-gradient(180deg,rgba(245,247,251,0),rgba(245,247,251,.95)); padding:14px 0 0; margin-top:18px}
    .bar{display:flex; gap:10px; flex-wrap:wrap}
    button{
      appearance:none;border:1px solid #cfd6e4; background:#fff;color:var(--ink);
      padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600
    }
    button.primary{background:var(--brand); border-color:transparent; color:#fff}
    button:focus{box-shadow:var(--ring)}

    .footer{margin-top:18px; font-size:.85rem; color:#374151}

    a{color:var(--brand-deep)}
    a:hover{text-decoration:underline}

    @media print{
      body{background:#fff;color:#000}
      .wrap{margin:0;max-width:none;padding:0}
      .controls{display:none}
      .card{box-shadow:none;border:1px solid #999}
      header, .logo{border:0;box-shadow:none;background:#fff;color:#000}
    }
  </style>
</head>
<body>
  <!-- Company logo -->
  <div class="logo">
    <img src="2.png" alt="de Risk Partners Logo">
  </div>

  <div class="wrap">
    <header>
      <h1>Crypto VASP Compliance Self-Assessment</h1>
      <span class="badge" id="saveState">Draft not saved</span>
    </header>

    <!-- FORM CONTENT REMAINS SAME AS YOUR VERSION -->
    <!-- ... keep the form fields from your last code ... -->
  </div>
</body>
</html>


    <form id="vaspForm" class="card" autocomplete="on">
      <section class="row two">
        <div>
          <label>Company
            <input name="company" type="text" required placeholder="Company legal name" />
          </label>
        </div>
        <div>
          <label>Name
            <input name="name" type="text" required placeholder="Your name" />
          </label>
          <label style="margin-top:10px">Title
            <input name="title" type="text" placeholder="Your title" />
          </label>
        </div>
      </section>
      <section class="row two">
        <div>
          <label>Date
            <input name="date" type="date" />
          </label>
        </div>
        <div>
          <label>Jurisdiction (Primary)
            <input name="jurisdiction" type="text" placeholder="e.g., Singapore" />
          </label>
        </div>
      </section>

      <!-- 1. Regulatory Licenses -->
      <fieldset>
        <legend>1. Regulatory Licenses</legend>
        <p class="muted">Do you hold required licenses/registrations in your operating jurisdictions?</p>
        <label><input type="radio" name="licensing_status" value="full" required> Yes, fully licensed in all jurisdictions</label>
        <label><input type="radio" name="licensing_status" value="partial"> Partially licensed (specify which missing): <input name="licensing_partial" type="text" placeholder="Jurisdictions missing" /></label>
        <label><input type="radio" name="licensing_status" value="none"> No licenses held</label>
        <label><input type="radio" name="licensing_status" value="pending"> Pending applications (specify): <input name="licensing_pending" type="text" placeholder="Applications" /></label>
        <label><input type="radio" name="licensing_status" value="sandbox"> Operating under a no-action letter or sandbox exemption (specify): <input name="licensing_sandbox" type="text" placeholder="Details" /></label>

        <div class="row two" style="margin-top:8px">
          <label>PSA Status (Payment Services Act)
            <select name="psa_status">
              <option value="">— Select —</option>
              <option value="licensed">Licensed</option>
              <option value="exempt">Exempt</option>
              <option value="sandbox">Sandbox approval</option>
              <option value="applied">Application submitted</option>
              <option value="none">No license / N/A</option>
            </select>
          </label>
          <label>Notes
            <input name="licenses_notes" type="text" placeholder="Any comments" />
          </label>
        </div>
      </fieldset>

      <!-- 2. AML/KYC Program -->
      <fieldset>
        <legend>2. AML/KYC Program</legend>
        <p class="muted">Do you have a functioning AML/KYC program with transaction monitoring?</p>
        <label><input type="radio" name="aml_program" value="full_auto" required> Yes, full program with automated monitoring</label>
        <label><input type="radio" name="aml_program" value="basic_manual"> Basic program, manual monitoring</label>
        <label><input type="radio" name="aml_program" value="limited"> Limited program in development</label>
        <label><input type="radio" name="aml_program" value="hybrid"> Hybrid model (internal + vendor)</label>
        <label><input type="radio" name="aml_program" value="none"> No formal program</label>

        <label style="margin-top:10px">AML Officer
          <input name="aml_officer" type="text" placeholder="Name" />
        </label>
      </fieldset>

      <!-- 3. Customer Fund Protection -->
      <fieldset>
        <legend>3. Customer Fund Protection</legend>
        <p class="muted">
          Are customer funds segregated and protected? Are funds held directly or via a third-party custodian (e.g., Fireblocks, Anchorage)?
        </p>
        <label>Custodian (if any)
          <input name="custodian" type="text" placeholder="e.g., Fireblocks, Anchorage" />
        </label>
        <label><input type="radio" name="segregation" value="full_ins" required> Yes, fully segregated with insurance</label>
        <label><input type="radio" name="segregation" value="seg_noins"> Segregated, no insurance</label>
        <label><input type="radio" name="segregation" value="partial"> Partially segregated</label>
        <label><input type="radio" name="segregation" value="not"> Not segregated</label>
        <div class="row two">
          <label>Cold storage %
            <input name="cold_pct" type="number" min="0" max="100" step="1" placeholder="%" />
          </label>
          <label>Insurance coverage (USD)
            <input name="insurance_usd" type="number" min="0" step="1" placeholder="$" />
          </label>
        </div>
      </fieldset>

      <!-- 4. Legal Issues -->
      <fieldset>
        <legend>4. Legal Issues</legend>
        <p class="muted">Any ongoing legal/regulatory proceedings or violations in past 3 years?</p>
        <label><input type="radio" name="legal_issues" value="none" required> No issues</label>
        <label><input type="radio" name="legal_issues" value="minor"> Minor issues (resolved)</label>
        <label><input type="radio" name="legal_issues" value="active"> Active proceedings</label>
        <label><input type="radio" name="legal_issues" value="major"> Major violations/penalties</label>
        <label>Details
          <textarea name="legal_details" rows="3" placeholder="Specify jurisdiction or regulator"></textarea>
        </label>
      </fieldset>

      <!-- 5. Geographic Restrictions -->
      <fieldset>
        <legend>5. Geographic Restrictions</legend>
        <p class="muted">Do you block prohibited jurisdictions (US, sanctioned countries)?</p>
        <label><input type="radio" name="geo_block" value="full" required> Yes, comprehensive geo-blocking</label>
        <label><input type="radio" name="geo_block" value="partial"> Partial restrictions</label>
        <label><input type="radio" name="geo_block" value="none"> No restrictions</label>
        <label><input type="radio" name="geo_block" value="dev"> Under development</label>

        <label style="margin-top:8px">Prohibited jurisdictions
          <input name="prohibited_list" type="text" placeholder="e.g., US, DPRK, Iran" />
        </label>
        <div>
          <span class="muted">Geo-blocking enforced via:</span>
          <label><input type="checkbox" name="enforce_ip" value="ip"> IP filtering</label>
          <label><input type="checkbox" name="enforce_wallet" value="wallet"> Wallet screening</label>
          <label><input type="checkbox" name="enforce_list" value="list"> List enforcement tools</label>
        </div>
      </fieldset>

      <!-- 6. Security Framework -->
      <fieldset>
        <legend>6. Security Framework</legend>
        <p class="muted">Do you follow cybersecurity standards and conduct regular audits?</p>
        <label><input type="radio" name="security_framework" value="cert" required> Yes, certified framework (ISO 27001/SOC 2)</label>
        <label><input type="radio" name="security_framework" value="internal"> Internal standards, regular audits</label>
        <label><input type="radio" name="security_framework" value="ext_no_cert"> External audit without certification</label>
        <label><input type="radio" name="security_framework" value="basic"> Basic security measures</label>
        <label><input type="radio" name="security_framework" value="limited"> Limited security program</label>
        <div class="row two">
          <label>Last security audit
            <input name="last_audit" type="date" />
          </label>
          <label>Bug bounty program
            <select name="bug_bounty">
              <option value="">— Select —</option>
              <option value="yes">Yes</option>
              <option value="no">No</option>
            </select>
          </label>
        </div>
      </fieldset>

      <!-- 7. Management Experience -->
      <fieldset>
        <legend>7. Management Experience</legend>
        <p class="muted">Do key executives have financial services/compliance experience?</p>
        <label><input type="radio" name="mgmt_exp" value="extensive" required> Yes, extensive regulatory experience</label>
        <label><input type="radio" name="mgmt_exp" value="some"> Some financial services background</label>
        <label><input type="radio" name="mgmt_exp" value="limited"> Limited relevant experience</label>
        <label><input type="radio" name="mgmt_exp" value="none"> No relevant background</label>
        <div class="row two">
          <label>CEO background
            <input name="ceo_bg" type="text" />
          </label>
          <label>CCO background
            <input name="cco_bg" type="text" />
          </label>
        </div>
      </fieldset>

      <!-- 8. Banking & Key Vendors -->
      <fieldset>
        <legend>8. Banking & Key Vendors</legend>
        <p class="muted">Do you have established banking relationships and compliance vendors?</p>
        <label><input type="radio" name="banking" value="tier1" required> Yes, tier-1 banks and compliance tools</label>
        <label><input type="radio" name="banking" value="regional"> Regional banks, basic tools</label>
        <label><input type="radio" name="banking" value="limited"> Limited banking, developing tools</label>
        <label><input type="radio" name="banking" value="none"> No stable banking relationships</label>

        <div class="row two">
          <label>Primary bank
            <input name="primary_bank" type="text" />
          </label>
          <label>Fiat on/off ramps managed
            <select name="ramps">
              <option value="">— Select —</option>
              <option value="internal">Internal</option>
              <option value="partner">Third-party partner</option>
            </select>
          </label>
        </div>
        <label>Partner name (if applicable)
          <input name="partner_name" type="text" />
        </label>
      </fieldset>

      <!-- 9. Financial Controls -->
      <fieldset>
        <legend>9. Financial Controls</legend>
        <p class="muted">Are you audited and maintain proper financial controls?</p>
        <label><input type="radio" name="fin_controls" value="big4_clean" required> Yes, Big 4 audited with clean opinion</label>
        <label><input type="radio" name="fin_controls" value="regional"> Regional firm audited</label>
        <label><input type="radio" name="fin_controls" value="documented"> Documented internal controls with review</label>
        <label><input type="radio" name="fin_controls" value="limited"> Limited financial controls</label>
        <label>Last audit date
          <input name="last_fin_audit" type="date" />
        </label>
      </fieldset>

      <!-- 10. Regulatory Readiness -->
      <fieldset>
        <legend>10. Regulatory Readiness</legend>
        <p class="muted">Are you prepared for upcoming regulatory changes?</p>
        <label><input type="radio" name="reg_ready" value="active" required> Yes, actively monitoring and adapting</label>
        <label><input type="radio" name="reg_ready" value="aware"> Aware of changes, planning adaptation</label>
        <label><input type="radio" name="reg_ready" value="limited"> Limited awareness</label>
        <label><input type="radio" name="reg_ready" value="not"> Not prepared for changes</label>
        <label>Biggest upcoming regulatory concern
          <input name="reg_concern" type="text" />
        </label>
        <p class="muted" style="margin-top:8px">Are you in industry groups (e.g., TRM Labs, GBBC, ADGM Sandbox)?</p>
        <label><input type="radio" name="working_groups" value="yes" required> Yes (list below)</label>
        <label><input type="radio" name="working_groups" value="no"> No</label>
        <label>Working Groups
          <textarea name="working_groups_list" rows="2"></textarea>
        </label>
      </fieldset>

      <!-- 11. Token or Asset Risk Classification -->
      <fieldset>
        <legend>11. Token or Asset Risk Classification</legend>
        <p class="muted">Do you maintain a framework for determining whether an asset is a security or requires regulatory treatment?</p>
        <label><input type="radio" name="token_framework" value="internal" required> Yes, internal legal opinion framework</label>
        <label><input type="radio" name="token_framework" value="external"> Yes, external counsel reviews</label>
        <label><input type="radio" name="token_framework" value="none"> No formal framework</label>
        <label><input type="radio" name="token_framework" value="na"> N/A (no listing/token services)</label>
      </fieldset>

      <!-- 12. Disclosures & Transparency -->
      <fieldset>
        <legend>12. Disclosures & Transparency</legend>
        <p class="muted">Do you provide public financial or operational disclosures (e.g., proof-of-reserves, attestation reports, risk disclosures)?</p>
        <label><input type="radio" name="disclosures" value="monthly" required> Yes, monthly / quarterly</label>
        <label><input type="radio" name="disclosures" value="annual"> Yes, annually</label>
        <label><input type="radio" name="disclosures" value="none"> No public disclosures</label>
      </fieldset>

      <div class="controls">
        <div class="bar">
          <button type="button" id="exportBtn">Export JSON</button>
          <button type="button" id="printBtn">Save/Print PDF</button>
          <button type="reset" id="resetBtn">Reset</button>
        </div>
        <div class="footer">Disclaimer: This self-assessment is for informational purposes only and does not constitute legal advice.</div>
      </div>
    </form>
  </div>

  <script>
    const form = document.getElementById('vaspForm');
    const saveBadge = document.getElementById('saveState');
    const exportBtn = document.getElementById('exportBtn');
    const printBtn = document.getElementById('printBtn');

    // --- Autosave draft in localStorage ---
    const KEY = 'vasp_self_assessment_v1';
    function saveDraft(){ localStorage.setItem(KEY, JSON.stringify(Object.fromEntries(new FormData(form)))); saveBadge.textContent='Draft saved'; }
    function loadDraft(){ const raw=localStorage.getItem(KEY); if(!raw) return; const data=JSON.parse(raw); for(const [k,v] of Object.entries(data)){ const el=form.elements[k]; if(!el) continue; if(el instanceof RadioNodeList){
          const group = form.querySelectorAll(`[name="${k}"]`);
          group.forEach(r=>{ r.checked = (r.value===v); });
        }else{
          el.value = v;
        }
      }
      saveBadge.textContent='Draft loaded';
    }
    function clearDraft(){ localStorage.removeItem(KEY); saveBadge.textContent='Draft cleared'; }

    form.addEventListener('input', ()=>{ saveDraft(); });
    document.getElementById('resetBtn').addEventListener('click', ()=>{ setTimeout(()=>{ clearDraft(); }, 0); });

    // --- Export JSON ---
    exportBtn.addEventListener('click', ()=>{
      const data = Object.fromEntries(new FormData(form));
      data.__exportedAt = new Date().toISOString();
      const blob = new Blob([JSON.stringify(data, null, 2)], {type:'application/json'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = `vasp_self_assessment_${(data.company||'company').replace(/\W+/g,'_').toLowerCase()}.json`;
      document.body.appendChild(a); a.click(); a.remove();
    });

    // --- Print / Save PDF ---
    printBtn.addEventListener('click', ()=>{ window.print(); });

    // Load draft on first paint
    loadDraft();
  </script>
</body>
</html>






